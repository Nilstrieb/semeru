(this.webpackJsonpsemeru=this.webpackJsonpsemeru||[]).push([[0],{141:function(e){e.exports=JSON.parse('{"name":"de","errors":{"removeQuickTask":"Konnte Schnelltask nicht l\xf6schen","addQuickTask":"Konnte Schnelltask nicht hinzuf\xfcgen","getTasks":"Konnte Tasks nicht laden","getCurrentTask":"Konnte die aktuelle Task nicht laden","updateCurrentTask":"Konnte die aktuelle Task nicht speichern","getQuickTasks":"Konnte Schnelltasks nicht laden","setLocale":"Konnte Spracheinstellungen nicht speichern","addTask":"Konnte Task nicht speichern"},"root":{"timerPage":"Timer","settingsPage":"Optionen","dataPage":"Statistiken","languages":{"de":"Deutsch","en":"Englisch","title":"Deutsch"}},"timer":{"start":"Start","pause":"Pause","resume":"Weiter","stop":"Stopp","cancel":"Abbrechen","enterLastTaskName":"Name der letzten Aufgabe eingeben:","enterBreakName":"Task w\xe4hrend der Pause eingeben (leer f\xfcr keine):"},"settings":{"quickTasks":"Schnelltasks","new":"Neu","newTaskMessage":"Aufgabenname eingeben","synchronizeTitle":"Mit der Cloud synchronosieren","mustBeLoggedIn":"Du musst eingeogged sein, um diese Funktion zu benutzen","fromLtoC":"Von Lokal zur Cloud","fromCtoL":"Von der Cloud zu Lokal","upload":"Hochladen","download":"Herunterladen","syncExplain":"Man kann alles lokal speichern, um die App zu nutzen, ohne eingelogged zu sein.","deleteData":"Daten l\xf6schen. Kann nicht r\xfcckg\xe4ngig gemacht werden!","dataManagement":"Daten l\xf6schen","delete":"L\xf6schen"},"stats":{"day":"Tag","week":"Woche","month":"Monat","all":"Alle"},"auth":{"signIn":"Login","signUp":"Registrieren","signOut":"Ausloggen","email":"E-Mail","password":"Passwort","passwordConfirm":"Passwort best\xe4tigen","incorrectPassword":"Falsches Passwort","incorrectEmail":"Falsche E-Mail","passwordReq":"Passwort ben\xf6tigt","emailReq":"E-Mail ben\xf6tigt","notAnEmail":"Keine E-Mail Adresse","userNotFound":"E-Mail nicht gefunden","passwordMustMatch":"Passw\xf6rter m\xfcssen \xfcbereinstimmten","passwordLength":"Passwort muss mindestens 6 Zeichen lang sein","weakPassword":"Passwort zu schwach","emailAlreadyInUse":"Email bereits verwendet","noAccountYet":"Noch keinen Account?","accountInfo":"Es braucht keinen Account, um SEMERU nutzen zu k\xf6nnen. Mit einem Account kann man jedoch den Timer und die Aufgaben \xfcber mehrere Ger\xe4te verkn\xfcpfen."}}')},142:function(e){e.exports=JSON.parse('{"apiKey":"AIzaSyCCu8thmlZuqNG2MhJjnCloW5sO_7C83g4","authDomain":"semeru-242a3.firebaseapp.com","databaseURL":"https://semeru-242a3-default-rtdb.europe-west1.firebasedatabase.app","projectId":"semeru-242a3","storageBucket":"semeru-242a3.appspot.com","messagingSenderId":"670943232847","appId":"1:670943232847:web:44b88be3a66c06b1edfb3a","measurementId":"G-M1LHVFVQFR"}')},256:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(52),c=n.n(s),i=n(0),u=n(3),o=n(16),l=n(37),h=n(23),d=n(27),j=n(267),b=n(262),f=n(269),p=n(132),O=n(133),m=n(265),k=n(7),v=function(e){var t=e.changeLocale,n=Object(a.useContext)(re),r=Object(a.useContext)(se);return Object(k.jsx)(j.a,{collapseOnSelect:!0,expand:"lg",children:Object(k.jsxs)(b.a,{children:[Object(k.jsx)(l.b,{to:"/",className:"navbar-brand",children:"Semeru"}),Object(k.jsx)(j.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(k.jsx)(j.a.Collapse,{id:"responsive-navbar-nav",children:Object(k.jsxs)(f.a,{className:"me-auto",children:[Object(k.jsx)(l.b,{to:"/",className:"nav-link",children:n.root.timerPage}),Object(k.jsx)(l.b,{to:"/settings",className:"nav-link",children:n.root.settingsPage}),Object(k.jsx)(l.b,{to:"/stats",className:"nav-link",children:n.root.dataPage}),r?Object(k.jsx)(p.a,{children:Object(k.jsx)(O.a,{variant:"outline-primary",onClick:function(){d.a.auth().signOut().then((function(){return window.location.reload()})).catch((function(e){console.error("Could not sign out user",e)}))},children:n.auth.signOut})}):Object(k.jsx)(l.b,{to:"/sign-in",className:"nav-link",children:n.auth.signIn}),Object(k.jsxs)(m.a,{title:n.root.languages.title,id:"collasible-nav-dropdown",children:[Object(k.jsx)(m.a.Item,{onClick:function(){return t("en")},children:n.root.languages.en}),Object(k.jsx)(m.a.Item,{onClick:function(){return t("de")},children:n.root.languages.de})]})]})})]})})},g=n(21),x=n(31),w=n(263);function y(e){var t=e.breaks.map((function(e){return e.end-e.start})).reduce((function(e,t){return e+t}),0);return(e.currentBreakStart||Date.now())-e.start-t}function T(e){return Object.values(e)}function C(e,t){var n={};return e.map((function(e){return Object(x.a)(Object(x.a)({},e),{},{start:Math.max(e.start,t)})})).filter((function(e){return e.end>t})).forEach((function(e){var t;n[e.name]=null!==(t=n[e.name])&&void 0!==t?t:{name:e.name,time:0},n[e.name].time+=function(e){var t=e.breaks.map((function(e){return e.end-e.start})).reduce(S,0);return e.end-e.start-t}(e)})),Object.entries(n).sort((function(e,t){var n=Object(o.a)(e,2)[1];return Object(o.a)(t,2)[1].time-n.time})).map((function(e){var t=Object(o.a)(e,2);return{name:t[0],time:t[1].time}}))}var S=function(e,t){return e+t},M=function(e){var t=e.highlight,n=e.name,a=e.handler;return Object(k.jsx)(O.a,{onClick:a,variant:t?"success":"outline-success",className:"m-1",children:n})},E=function(e){return Object(k.jsx)("h1",{style:{fontSize:60},children:Object(k.jsx)(N,Object(x.a)({},e))})},N=function(e){var t=e.task,n=Object(a.useState)(0),r=Object(o.a)(n,2)[1];return Object(a.useEffect)((function(){if(t){var e=setInterval((function(){r((function(e){return e+1}))}),500);return function(){return clearInterval(e)}}}),[t]),Object(k.jsx)(k.Fragment,{children:t?L(y(t)):"00:00:00"})};function L(e){var t=(e/=1e3)%60,n=e/60,a=0;return n>60&&(a=n/60,n%=60),"".concat(Math.floor(Math.max(a,0)).toString().padStart(2,"0"),":")+"".concat(Math.floor(Math.max(n,0)).toString().padStart(2,"0"),":")+"".concat(Math.floor(Math.max(t,0)).toString().padStart(2,"0"))}var P=function(e){var t=e.quickTasks,n=Object(a.useContext)(re),r=Object(a.useContext)(ce),s=Object(a.useContext)(ie),c=Object(a.useState)(null),l=Object(o.a)(c,2),h=l[0],d=l[1],j=T(t);Object(a.useEffect)((function(){var e=function(e){return d(e?(t=e,Object(x.a)({breaks:[]},t)):null);var t};return r.getCurrentTask(e).catch(s(n.errors.getCurrentTask)),function(){r.removeListener(e).catch(s(n.errors.getCurrentTask))}}),[n,s,r]);var f=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,r.start(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(Object(i.a)().mark((function e(){var t,a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return",!0);case 2:if(t=h.name){e.next=8;break}if(a=window.prompt(n.timer.enterLastTaskName)){e.next=7;break}return e.abrupt("return",!1);case 7:t=a;case 8:return c=Object(x.a)(Object(x.a)({},h),{},{name:t}),e.next=11,r.stop(c).catch(s(n.errors.addTask));case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cancel();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=!!j.find((function(e){return e===(null===h||void 0===h?void 0:h.name)}));return Object(k.jsxs)(p.a,{className:"d-grid justify-content-center",children:[Object(k.jsxs)(w.a,{children:[Object(k.jsx)(b.a,{className:"d-grid justify-content-center",children:Object(k.jsx)(E,{task:h})}),Object(k.jsx)(b.a,{className:"d-grid justify-content-center",children:Object(k.jsxs)(p.a,{children:[Object(k.jsx)(O.a,{variant:y||!h?"outline-success":"success",onClick:function(){return f()},children:n.timer.start}),null!==h&&void 0!==h&&h.currentBreakStart?Object(k.jsx)(O.a,{variant:"info",className:"m-1",onClick:function(){if(console.log(h),null===h||void 0===h||!h.currentBreakStart)return h;var e=Date.now(),t={start:h.start,name:h.name||null,breaks:[].concat(Object(g.a)(h.breaks),[{start:h.currentBreakStart,end:e}])};r.updateCurrentTask(t).catch(s(n.errors.updateCurrentTask));var a=window.prompt(n.timer.enterBreakName);if(a){var c={start:h.currentBreakStart,name:a,end:e,breaks:[]};r.addTask(c).catch(s(n.errors.addTask))}},children:n.timer.resume}):Object(k.jsx)(O.a,{variant:"outline-info",className:"m-1",onClick:function(){var e=h&&Object(x.a)(Object(x.a)({},h),{},{currentBreakStart:Date.now()});r.updateCurrentTask(e).catch(s(n.errors.updateCurrentTask))},children:n.timer.pause}),Object(k.jsx)(O.a,{variant:"outline-danger",onClick:m,children:n.timer.stop}),Object(k.jsx)(O.a,{variant:"outline-danger",className:"m-1",onClick:v,children:n.timer.cancel})]})})]}),Object(k.jsx)("div",{className:"m-3"}),Object(k.jsx)(w.a,{className:"d-grid justify-content-center",children:j.map((function(e){return Object(k.jsx)(M,{highlight:e===(null===h||void 0===h?void 0:h.name),name:e,handler:function(){return f(e)}},e)}))})]})},q=function(e){var t=e.quickTasks,n=e.upload,r=e.download,s=e.deleteData,c=Object(a.useContext)(re),l=Object(a.useContext)(se),h=Object(a.useContext)(ce),d=Object(a.useContext)(ie),j=function(){var e=Object(u.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.prompt(c.settings.newTaskMessage)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,h.addQuickTask(t).catch(d(c.errors.addQuickTask));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsx)(b.a,{children:Object(k.jsxs)(w.a,{children:[Object(k.jsxs)(w.a,{className:"mb-4",children:[Object(k.jsx)("h2",{children:c.settings.quickTasks}),Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(k.jsx)(w.a,{children:Object(k.jsxs)(p.a,{xs:10,children:[Object(k.jsx)(M,{name:a,handler:function(){}}),Object(k.jsx)(O.a,{className:"m-1",onClick:function(){return function(e){return h.removeQuickTask(e).catch(d(c.errors.removeQuickTask))}(n)},variant:"outline-danger",children:"X"})]})},n)})),Object(k.jsx)(w.a,{children:Object(k.jsx)(p.a,{children:Object(k.jsx)(O.a,{variant:"outline-primary",className:"m-1",onClick:j,children:c.settings.new})})})]}),Object(k.jsxs)(w.a,{className:"mb-4",children:[Object(k.jsx)("h2",{children:c.settings.synchronizeTitle}),l?Object(k.jsxs)(p.a,{children:[c.settings.syncExplain,Object(k.jsx)("h5",{children:c.settings.fromCtoL}),Object(k.jsx)(O.a,{variant:"outline-primary",onClick:n,children:c.settings.upload}),Object(k.jsx)("h5",{className:"mt-3",children:c.settings.fromLtoC}),Object(k.jsx)(O.a,{variant:"outline-primary",onClick:r,children:c.settings.download})]}):Object(k.jsx)("h5",{children:c.settings.mustBeLoggedIn}),Object(k.jsx)("div",{className:"mt-5"}),Object(k.jsx)("h2",{children:c.settings.dataManagement}),Object(k.jsx)("h5",{children:c.settings.deleteData}),Object(k.jsx)(p.a,{children:Object(k.jsx)(O.a,{variant:"outline-primary",onClick:s,children:c.settings.delete})})]})]})})},I=n(264),A=n(135),D=["day","week","month","all"],F=function(e){switch(e){case"all":return 0;case"day":var t=new Date;return t.setHours(0,0,0),t.getTime();case"week":var n=new Date,a=(n.getDay()||7)-1,r=n.getDate()-a;return n.setDate(r),n.setHours(0,0,0),n.getTime();case"month":var s=new Date;return s.setDate(1),s.setHours(0,0,0),s.getTime()}};function Q(e){var t=(e/=1e3)%60,n=e/60,a=0;return n>60&&(a=n/60,n%=60),"".concat(Math.floor(a),"h ").concat(Math.floor(n),"min ").concat(Math.floor(t),"s")}var z=function(){var e=Object(a.useContext)(re),t=Object(a.useContext)(ce),n=Object(a.useContext)(ie),r=Object(a.useState)("day"),s=Object(o.a)(r,2),c=s[0],i=s[1],u=Object(a.useState)([]),l=Object(o.a)(u,2),h=l[0],d=l[1];return Object(a.useEffect)((function(){var a=function(e){return d(C(T(e).map((function(e){return Object(x.a)({breaks:[]},e)})),F(c)))};return t.getTasks(a).catch(n(e.errors.getTasks)),function(){t.removeListener(a).catch(n(e.errors.getTasks))}}),[e,n,t,c]),Object(k.jsxs)(b.a,{children:[Object(k.jsx)("div",{className:"mb-2",children:D.map((function(t){return Object(k.jsx)("span",{className:"m-1",children:Object(k.jsx)(O.a,{variant:c===t?"secondary":"outline-secondary",onClick:function(){return i(t)},children:e.stats[t]})},t)}))}),Object(k.jsx)(I.a,{children:h.map((function(e){return Object(k.jsx)(A.a,{children:Object(k.jsx)(b.a,{children:Object(k.jsxs)(w.a,{children:[Object(k.jsx)(p.a,{children:e.name}),Object(k.jsx)(p.a,{children:Q(e.time)})]})})},e.name)}))})]})},B=n(266),R=n(268),_=n(90),U=n(41),K=function(){var e=Object(a.useContext)(re),t=Object(a.useState)(null),n=Object(o.a)(t,2),r=n[0],s=n[1],c=Object(h.f)(),i=Object(a.useMemo)((function(){return U.a().shape({email:U.c().email(e.auth.notAnEmail).required(e.auth.emailReq),password:U.c().required(e.auth.passwordReq)})}),[e]),u={"auth/invalid-email":e.auth.notAnEmail,"auth/user-disabled":e.auth.userNotFound,"auth/user-not-found":e.auth.userNotFound,"auth/wrong-password":e.auth.incorrectPassword},j=Object(_.a)({initialValues:{email:"",password:""},validationSchema:i,onSubmit:function(e){s(null),d.a.auth().signInWithEmailAndPassword(e.email,e.password).then((function(){s(null),c.push("/")})).catch((function(e){console.error(e),s(u[e.code])}))},validateOnChange:!1,validateOnBlur:!0});return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:e.auth.signIn}),Object(k.jsxs)(B.a,{onSubmit:function(e){e.preventDefault(),j.handleSubmit(e)},children:[["email","password"].map((function(t){return Object(k.jsxs)(B.a.Group,{children:[Object(k.jsx)(B.a.Label,{children:e.auth[t]}),Object(k.jsx)(B.a.Control,{type:t,name:t,isInvalid:!!j.errors[t],value:j.values[t],onChange:j.handleChange}),Object(k.jsx)(R.a,{variant:"danger",show:!!j.errors[t],children:j.errors[t]})]},t)})),Object(k.jsx)(O.a,{type:"submit",children:e.auth.signIn}),Object(k.jsx)(R.a,{variant:"danger",show:!!r,children:r})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:e.auth.noAccountYet}),Object(k.jsx)(l.b,{to:"/sign-up",children:e.auth.signUp})]})]})},G=function(){var e=Object(a.useContext)(re),t=Object(a.useState)(null),n=Object(o.a)(t,2),r=n[0],s=n[1],c=Object(h.f)(),i=Object(a.useMemo)((function(){return U.a().shape({email:U.c().email(e.auth.notAnEmail).required(e.auth.emailReq),password:U.c().required(e.auth.passwordReq),passwordConfirm:U.c().required(e.auth.passwordReq).min(6,e.auth.passwordLength).oneOf([U.b("password")],e.auth.passwordMustMatch)})}),[e]),u={"auth/invalid-email":e.auth.notAnEmail,"auth/email-already-in-use":e.auth.emailAlreadyInUse,"auth/weak-password":e.auth.weakPassword},l=Object(_.a)({initialValues:{email:"",password:"",passwordConfirm:""},validationSchema:i,onSubmit:function(e){s(null),d.a.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(){s(null),c.push("/")})).catch((function(e){console.error(e),s(u[e.code])}))},validateOnChange:!1,validateOnBlur:!0});return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:e.auth.signUp}),Object(k.jsx)("p",{children:e.auth.accountInfo}),Object(k.jsxs)(B.a,{onSubmit:function(e){e.preventDefault(),l.handleSubmit(e)},children:[Object(k.jsxs)(B.a.Group,{children:[Object(k.jsx)(B.a.Label,{children:e.auth.email}),Object(k.jsx)(B.a.Control,{type:"email",name:"email",isInvalid:!!l.errors.email,value:l.values.email,onChange:l.handleChange}),Object(k.jsx)(R.a,{variant:"danger",show:!!l.errors.email,children:l.errors.email})]}),Object(k.jsxs)(B.a.Group,{children:[Object(k.jsx)(B.a.Label,{children:e.auth.password}),Object(k.jsx)(B.a.Control,{type:"password",name:"password",isInvalid:!!l.errors.password,value:l.values.password,onChange:l.handleChange}),Object(k.jsx)(R.a,{variant:"danger",show:!!l.errors.password,children:l.errors.password})]}),Object(k.jsxs)(B.a.Group,{children:[Object(k.jsx)(B.a.Label,{children:e.auth.passwordConfirm}),Object(k.jsx)(B.a.Control,{type:"password",name:"passwordConfirm",isInvalid:!!l.errors.passwordConfirm,value:l.values.passwordConfirm,onChange:l.handleChange}),Object(k.jsx)(R.a,{variant:"danger",show:!!l.errors.passwordConfirm,children:l.errors.passwordConfirm})]}),Object(k.jsx)(O.a,{type:"submit",children:e.auth.signIn}),Object(k.jsx)(R.a,{variant:"danger",show:!!r,children:r})]})]})},J=n(18),V=n(4),H=n(5),W=n(12),Y=n(13),Z=function(){function e(){Object(V.a)(this,e)}return Object(H.a)(e,[{key:"start",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t||null,start:Date.now(),breaks:[]},e.next=3,this.set("currentTask",n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stop",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n,a,r,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.start,a=t.name,r=t.breaks,s=Date.now(),c={start:n,end:s,breaks:r,name:a},e.next=5,Promise.all([this.addTask(c),this.set("currentTask",null)]);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.set("tasks",{});case 2:return e.next=4,this.set("currentTask",null);case 4:return e.next=6,this.set("quickTasks",{});case 6:return e.next=8,this.set("locale","en");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addTask",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.push("tasks",t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.set("currentTask",null);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentTask",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.set("currentTask",t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLocale",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.set("locale",t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addQuickTask",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.push("quickTasks",t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTasks",value:function(e){return this.get("tasks",{},e)}},{key:"getQuickTasks",value:function(e){return this.get("quickTasks",{},e)}},{key:"getLocale",value:function(e){return this.get("locale","en",e)}},{key:"getCurrentTask",value:function(e){return this.get("currentTask",null,e)}},{key:"pushAll",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n){var a=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(n).forEach((function(e){return a.push(t,e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),X=function(e){Object(W.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(V.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r)))._listeners=[],e}return Object(H.a)(n,[{key:"getOnce",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem(t)){e.next=3;break}return e.abrupt("return",n);case 3:return e.abrupt("return",JSON.parse(a));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.stringify(n),localStorage.setItem(t,a),this._listeners.filter((function(e){return e.value===t})).forEach((function(e){var t=e.listener,a=e.defaultValue;return t(n||a)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeQuickTask",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOnce("quickTasks",{});case 2:return delete(n=e.sent)[t],e.next=6,this.set("quickTasks",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeListener",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._listeners=this._listeners.filter((function(e){return e.listener!==t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pushAll",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n){var a,r,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(J.a)(T(n)),e.prev=1,a.s();case 3:if((r=a.n()).done){e.next=9;break}return s=r.value,e.next=7,this.push(t,s);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a.e(e.t0);case 14:return e.prev=14,a.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"push",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n){var a,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="id".concat(Date.now(),"_").concat(Math.floor(1e3*Math.random()).toString(16)),e.next=3,this.getOnce(t,{});case 3:return(r=e.sent)[a]=n,e.next=7,this.set(t,r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n,a){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._listeners.push({value:t,listener:a,defaultValue:n}),e.t0=a,e.next=4,this.getOnce(t,n);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),n}(Z);var $=function(e){Object(W.a)(n,e);var t=Object(Y.a)(n);function n(e){var a;return Object(V.a)(this,n),(a=t.call(this))._user=void 0,a._listenerMap=void 0,a._user=e,a._listenerMap=new Map,a}return Object(H.a)(n,[{key:"removeListener",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._listenerMap.get(t)){e.next=3;break}return e.abrupt("return");case 3:d.a.database().ref(this.path(n.name)).off("value",n.listener);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeQuickTask",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.database().ref("".concat(this.path("quickTasks"),"/").concat(t)).set(null);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOnce",value:function(e,t){return d.a.database().ref(this.path(e)).get().then((function(e){return e.val()}))}},{key:"set",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.database().ref(this.path(t)).set(n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"push",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.a.database().ref(this.path(t)).push(n);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n,a){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e){return a(e.val()||n)},this._listenerMap.set(a,{name:t,listener:r}),d.a.database().ref(this.path(t)).on("value",r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"path",value:function(e){return"users/".concat(this._user.uid,"/").concat(e)}}]),n}(Z),ee=n(141),te=n(95),ne={de:ee,en:te},ae=new X,re=r.a.createContext(te),se=r.a.createContext(null),ce=r.a.createContext(ae),ie=r.a.createContext((function(){return function(){}})),ue=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.clear();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.clear();case 2:return e.next=4,t.getOnce("tasks",{}).then((function(e){return n.pushAll("tasks",e)}));case 4:return e.next=6,t.getOnce("locale","en").then((function(e){return n.setLocale(e)}));case 6:return e.next=8,t.getOnce("quickTasks",{}).then((function(e){n.pushAll("quickTasks",e)}));case 8:return e.next=10,t.getOnce("currentTask",null).then((function(e){return n.updateCurrentTask(e)}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(a.useCallback)((function(e){return function(t){console.error(e,t),S(e),setTimeout((function(){return S(null)}),3e3)}}),[]),t=Object(a.useState)(te),n=Object(o.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(ae),i=Object(o.a)(c,2),u=i[0],j=i[1],b=Object(a.useState)({}),f=Object(o.a)(b,2),p=f[0],O=f[1],m=Object(a.useState)(null),g=Object(o.a)(m,2),x=g[0],w=g[1],y=Object(a.useState)(null),T=Object(o.a)(y,2),C=T[0],S=T[1];Object(a.useEffect)((function(){var t=function(e){return s(ne[e])};return u.getLocale(t).catch(),function(){u.removeListener(t).catch(e(r.errors.getQuickTasks))}}),[r,e,u]),Object(a.useEffect)((function(){var t=function(e){return O(e)};return u.getQuickTasks(t).catch(e(r.errors.getQuickTasks)),function(){u.removeListener(t).catch(e(r.errors.getQuickTasks))}}),[r,e,u]),Object(a.useEffect)((function(){d.a.auth().onAuthStateChanged((function(e){w(e),j(e?new $(e):ae)}))}),[]);return Object(k.jsx)("div",{lang:r.name,children:Object(k.jsx)(l.a,{children:Object(k.jsx)(re.Provider,{value:r,children:Object(k.jsx)(se.Provider,{value:x,children:Object(k.jsx)(ce.Provider,{value:u,children:Object(k.jsxs)(ie.Provider,{value:e,children:[Object(k.jsx)(v,{changeLocale:function(t){return u.setLocale(t).catch(e(r.errors.setLocale))}}),Object(k.jsxs)(h.c,{children:[Object(k.jsx)(h.a,{path:"/settings",children:Object(k.jsx)(q,{quickTasks:p,upload:function(){return oe(ae,u)},download:function(){return oe(u,ae)},deleteData:function(){return ue(u)}})}),Object(k.jsx)(h.a,{path:"/stats",children:Object(k.jsx)(z,{})}),Object(k.jsx)(h.a,{path:"/sign-in",component:K}),Object(k.jsx)(h.a,{path:"/sign-up",component:G}),Object(k.jsx)(h.a,{path:"/",children:Object(k.jsx)(P,{quickTasks:p})})]}),Object(k.jsx)("footer",{children:Object(k.jsx)(R.a,{variant:"danger",show:!!C,children:C})})]})})})})})})},he=(n(252),n(142));n(253),n(257);0===d.a.apps.length&&d.a.initializeApp(he),c.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(le,{})}),document.getElementById("root"))},95:function(e){e.exports=JSON.parse('{"name":"en","errors":{"removeQuickTask":"Failed to remove quick task","addQuickTask":"Failed to add quick task","getTasks":"Failed to fetch tasks","getCurrentTask":"Failed to fetch current task","updateCurrentTask":"Failed to update current task","getQuickTasks":"Failed to fetch quick tasks","setLocale":"Failed to save language settings","addTask":"Failed to save task"},"root":{"timerPage":"Timer","settingsPage":"Settings","dataPage":"Stats","languages":{"de":"German","en":"English","title":"Language"}},"timer":{"start":"Start","pause":"Pause","resume":"Resume","stop":"Stop","cancel":"Cancel","enterLastTaskName":"Enter name for the last task:","enterBreakName":"Enter the task during the break (empty for nothing):"},"settings":{"quickTasks":"Quick Tasks","new":"New","newTaskMessage":"Enter task name","synchronizeTitle":"Synchronize with the cloud","mustBeLoggedIn":"You must be logged in to use this feature","fromLtoC":"From local data to the cloud","fromCtoL":"From the cloud to local","upload":"Upload","download":"Download","syncExplain":"You can save everything locally, so you can continue to use the app even if you are not logged in.","deleteData":"Delete data. This can not be undone!","dataManagement":"Delete Data","delete":"Delete"},"stats":{"day":"Day","week":"Week","month":"Month","all":"All"},"auth":{"signIn":"Sign In","signUp":"Sign Up","signOut":"Sign Out","email":"E-Mail","password":"Password","passwordConfirm":"Confirm Password","incorrectPassword":"Incorrect password","incorrectEmail":"Incorrect e-mail","passwordReq":"Password is required","emailReq":"E-Mail is required","notAnEmail":"Not an E-Mail address","userNotFound":"E-Mail not found","passwordMustMatch":"Passwords must match","passwordLength":"Password must be at least 6 characters","weakPassword":"Password too weak","emailAlreadyInUse":"Email already in use","noAccountYet":"Don\'t have an account?","accountInfo":"You don\'t need an account to use SEMERU. But using an account will let you sync your timer and tasks across multiple different devices."}}')}},[[256,1,2]]]);
//# sourceMappingURL=main.e435804b.chunk.js.map